(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(2),s=t(14),o=t.n(s),c=t(3),u=t(0),a=function(e){var n=e.filterPerson,t=e.setFilterPerson;return Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{valute:n,onChange:function(e){t(e.target.value)}})]})},i=t(4),b=t.n(i),j="http://localhost:3001/api/persons",d={getPersons:function(){return b.a.get(j).then((function(e){return e.data}))},postPersons:function(e){return b.a.post(j,e).then((function(e){return e.data}))},remove:function(e){b.a.delete(j+"/"+e)},update:function(e,n){return b.a.put(j+"/"+e,n).then((function(e){return e.data}))}},f=(t(38),function(e){var n=e.message;return null!==n?Object(u.jsx)("div",{className:"success",children:n}):null}),l=function(e){var n=e.persons,t=e.newPerson,s=e.newNumber,o=e.setNewPerson,a=e.setNewNumber,i=e.setPersons,b=Object(r.useState)(null),j=Object(c.a)(b,2),l=j[0],h=j[1],O=function(e){return e.name===t};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{message:l}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),void 0!==n.find(O)&&n.find(O).name===t){var r=n.find(O).id;if(window.confirm("Are you sure you want to update the number of ".concat(t," as ").concat(s))){var c={name:t,number:s};d.update(r,c),d.getPersons().then((function(e){i(e)})),h(t+" has been updated to the phonebook")}}else{var u={name:t,number:s};d.postPersons(u),i(n.concat(u)),o(""),a(""),h(t+" has been added to the phonebook")}},children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:t,onChange:function(e){o(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"number: ",Object(u.jsx)("input",{value:s,onChange:function(e){a(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})]})},h=function(e){var n=e.person,t=e.setPersons,r=e.id,s=e.number;return Object(u.jsxs)("p",{children:[n," ",s,"\xa0",Object(u.jsx)("button",{onClick:function(){return function(e,n,t){window.confirm("Are you sure you want to delete ".concat(n," ?"))&&(d.remove(e),d.getPersons().then((function(e){t(e)})))}(r,n,t)},children:"delete"})]})},O=function(e){var n=e.persons,t=e.setPersons,r=e.filterPerson;return Object(u.jsx)("div",{children:n.filter((function(e){return e.name.slice(0,r.length).toLowerCase()===r.toLowerCase()})).map((function(e){return Object(u.jsx)(h,{setPersons:t,id:e.id,person:e.name,number:e.number},e.name)}))})},m=function(){var e=Object(r.useState)([]),n=Object(c.a)(e,2),t=n[0],s=n[1],o=Object(r.useState)("a new person !!!"),i=Object(c.a)(o,2),b=i[0],j=i[1],f=Object(r.useState)("phone-number"),h=Object(c.a)(f,2),m=h[0],p=h[1],x=Object(r.useState)(""),v=Object(c.a)(x,2),P=v[0],w=v[1];return Object(r.useEffect)((function(){d.getPersons().then((function(e){s(e)}))}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Phonebook"}),Object(u.jsx)(a,{filterPerson:P,setFilterPerson:w}),Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(l,{persons:t,newPerson:b,newNumber:m,setPersons:s,setNewPerson:j,setNewNumber:p}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(O,{setPersons:s,persons:t,filterPerson:P})]})};o.a.render(Object(u.jsx)(m,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.255fe7d0.chunk.js.map